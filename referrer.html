<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8" />
<title>referrer</title>
<link rel="stylesheet" href="../baseLocali.css" type="text/css"/>

<style type="text/css"></style>
</head>
<body>


<h1>document.referrer</h1>


<p class="nota">La proprietà <q>referrer</q> contiene l'URL della pagina da cui si è arrivati. Se l'URL è scritto direttamente nella barra degli indirizzi allora la proprietà non conterrà alcun valore. Provare ad aprire una scheda e a digitare "http://localhost/JavaScript/referrer.html". Cliccando sul link "Go back" non succederà nu	lla </p>

<script type="text/javascript">

document.write("<a href='", document.referrer,"'>Go back</a>");
</script>

<br /><br />

<a href="" id='collegamento'>Vai indietro</a>


<h3>Window.opener</h3>
<pre>
var window = window.open(url, windowName, [windowFeatures]) 

<span class="grigio">solo il primo parametro "url" è obbligatorio</span>
</pre>
<p>
L'interfaccia <em>Window.opener</em> restituisce una referenza alla finestra aperta con <em>window.open</em>. <br>
In altre parole se la finestra A apre la finestra B, dalla finestra B usando <em>window.open</em> e <em>document.referrer</em>
possiamo riaprire la finestra A in una nuova scheda.
</p>
<p>
Ho fatto una prova (vedi script interno) nella quale ho creato un collegamento a questa pagina dal file <q>prove.html</q>. <br>
</p>
<p>
Questo causa un problema di sicurezza e privacy che può essere risolto impostando all'attributo «rel»
i parametri <b>noreferrer</b> e <b>noopener</b>, es:
</p>
<pre>
<span class="grigio">
IL link seguente va impostato nel file che farà riferimento (si collegherà) a questo file </span>

&lt;a href="referrer.html" target="_blank" rel="noopener noreferrer"&gt;Vai a referrer&lt;/a&gt;

</pre>
<p>
Quindi impostando i parametri <q>rel="noopener noreferrer"</q> al link, <q>window.opener</q> otterrebbe una scheda vuota
</p>

<script  type="text/javascript">

var arrivo = document.referrer;
document.getElementById('collegamento').setAttribute('href', arrivo);

/////////////////    window.opener  /////////////////////
//@@@ var window = window.open(url, windowName, [windowFeatures]) @@@

//var window = window.open( "prove.html" );                     // qui ho passato direttamente il nome del file

// Ho creato un link a questa pagina nel file "prove.html" e quindi ho usato "document.referrer"
//var window = window.open( document.referrer );           


</script>










</body>
</html>
