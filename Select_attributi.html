<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8" />
<title>attributi dalla select </title>
<style type="text/css">
h1{ font-size:24px; font-weight:bold; color:rgb(50,50,250); }
h2{ font-size:18px; font-weight:bold; color:rgb(250,50,150);}
h3{ font-size:14px; font-weight:bold; color:rgb(200,20,20);}
dt{ color:#003399; margin-bottom:5px;}
dd{ color:#0066FF;}
tt, em{color:#6a9999}

.nota{ color:rgb(250,120,0);}
.codice{ color:rgb(30,120,30);}
.grassetto{font-weight:bold;}

</style>
</head>
<body>

<h1>Ottenere indice e attributi delle opzioni del menù select</h1>
<h3>index e selectedIndex</h3>
<p>
Sono  proprietà <tt>read e write</tt> che specifica l'indice delle opzioni di una <em>select</em>, per cui si può gestire l'indice solo per i campi menù si selezione. Nell'esempio è mostrato come ottenere l'attributo di una opzione del menù 
</p>

<select id="myS" size=5 >
   <option id="o1" car="primaCar" >opzione 1</option>
   <option id="o2" car="secondaCar">opzione 2</option>
   <option id="o3" car="terzaCar">opzione 3</option>
   <option id="o4" car="quartaCar">opzione 4</option>
   <option id="o5" car="quintaCar">opzione 5</option>
</select>


<script type="text/javascript">

var seletta = document.getElementById('myS');
var s = document.querySelectorAll('#myS > option');

/*
//############# 	Ottenere l'indice con "index"  	############
// Bisogna eseguire un ciclo sugli elementi <option>

for(var i=0; i< s.length; i++) {
	s[i].addEventListener('click', 
	function (){
		alert("Indice: " +this.index)										// restituisce l'indice (0, 1, 2 ecc...)
		alert("Attributo : "+ this.getAttribute('car') );			// primaCar, secondaCar, ecc...
	}, false)
}
*/


//############# 	Ottenere l'indice con "selectedIndex"  	############

seletta.addEventListener('change', function (event) {

//	alert(this.value);																// opzione 1, opzione 2,  ecc. 
//	alert(this.selectedIndex);														// 0, 1, 2 ecc...
//	alert(event.target.selectedIndex);											// uguale al precedente
	alert(this.options[this.selectedIndex].getAttribute('car'));		// primaCar, secondaCar, ecc...

}, false)


</script>








</body>
</html>
